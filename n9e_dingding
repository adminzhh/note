{{$domain := "http://123.6.183.22:9999"}} {{/* æ³¨æ„ï¼šè¿™é‡Œå»æ‰äº†æœ«å°¾çš„æ–œæ  */}}
#### {{if $event.IsRecovered}}<font color="#008800">âœ… {{$event.RuleName}}</font>{{else}}<font color="#FF0000">ğŸš¨ {{$event.RuleName}}</font>{{end}}
---
{{$time_duration := sub now.Unix $event.FirstTriggerTime }}{{if $event.IsRecovered}}{{$time_duration = sub $event.LastEvalTime $event.FirstTriggerTime }}{{end}}

- **å½“å‰çŠ¶æ€**: {{if $event.IsRecovered}}<font color="#008800">å·²æ¢å¤</font>{{else}}<font color="#FF0000">å‘Šè­¦ä¸­</font>{{end}}
- **å‘Šè­¦çº§åˆ«**: {{$event.Severity}}çº§
{{- if $event.RuleNote}}
- **è§„åˆ™è¯´æ˜**: {{$event.RuleNote}}
{{- end}}

{{- if not $event.IsRecovered}}
- **è§¦å‘æ•°å€¼**: {{$event.TriggerValue}}G
- **è§¦å‘æ—¶é—´**: {{timeformat $event.TriggerTime}}
- **æŒç»­æ—¶é—´**: {{humanizeDurationInterface $time_duration}}
{{- else}}
{{- if $event.AnnotationsJSON.recovery_value}}
- **æ¢å¤æ•°å€¼**: {{formatDecimal $event.AnnotationsJSON.recovery_value 4}}G
{{- end}}
- **æ¢å¤æ—¶é—´**: {{timeformat $event.LastEvalTime}}
- **æ€»æŒç»­æ—¶é—´**: {{humanizeDurationInterface $time_duration}}
{{- end}}

**ğŸ”– æ ‡ç­¾ä¿¡æ¯**:
{{- range $key, $val := $event.TagsMap}}
{{- if and (ne $key "rulename") (ne $val "") }}
  > {{$key}}: `{{$val}}`
{{- end}}
{{- end}}

---
{{- /* è¿™é‡Œæ˜¯å•ç‹¬å‘ä¸‹å±•ç¤ºçš„è¯¦æƒ…éƒ¨åˆ† */}}
{{- if $event.AnnotationsJSON}}
**ğŸ“ å‘Šè­¦è¯¦æƒ…**:
{{- range $key, $val := $event.AnnotationsJSON}}
  > {{$key}}: `{{$val}} > 1.9`
{{- end}}
{{- end}}

---
**ğŸ”— å¿«æ·æ“ä½œ**:
[ğŸ“Š äº‹ä»¶è¯¦æƒ…]({{$domain}}/alert-his-events/{{$event.Id}}) | 
[ğŸš« å±è”½1å°æ—¶]({{$domain}}/alert-mutes/add?__event_id={{$event.Id}}) |
{{if eq $event.Cate "prometheus"}}[ğŸ“ˆ æŸ¥çœ‹æ›²çº¿]({{$domain}}/metric/explorer?__event_id={{$event.Id}}&mode=graph}}){{else}}[ğŸ‘€ æŸ¥çœ‹æ•°æ®]({{$domain}}/metric/explorer?__event_id={{$event.Id}}}){{end}}


============================================================
{{if $event.IsRecovered}}âœ… å·²æ¢å¤{{else}}ğŸš¨ å‘Šè­¦ä¸­{{end}}: {{$event.RuleName}}

{{if $event.TagsMap}}
**æ ‡ç­¾ä¿¡æ¯**:
{{- range $key, $val := $event.TagsMap}}
- {{$key}}: `{{$val}}`
{{- end}}
{{- end}}{{$domain := "http://123.6.183.22:9999"}} {{/* æ³¨æ„ï¼šè¿™é‡Œå»æ‰äº†æœ«å°¾çš„æ–œæ  */}}
#### {{if $event.IsRecovered}}<font color="#008800">âœ… {{$event.RuleName}}</font>{{else}}<font color="#FF0000">ğŸš¨ {{$event.RuleName}}</font>{{end}}
---
{{$time_duration := sub now.Unix $event.FirstTriggerTime }}{{if $event.IsRecovered}}{{$time_duration = sub $event.LastEvalTime $event.FirstTriggerTime }}{{end}}

- **å½“å‰çŠ¶æ€**: {{if $event.IsRecovered}}<font color="#008800">å·²æ¢å¤</font>{{else}}<font color="#FF0000">å‘Šè­¦ä¸­</font>{{end}}
- **å‘Šè­¦çº§åˆ«**: {{$event.Severity}}çº§
{{- if $event.RuleNote}}
- **è§„åˆ™è¯´æ˜**: {{$event.RuleNote}}
{{- end}}

{{- if not $event.IsRecovered}}
- **è§¦å‘æ•°å€¼**: {{$event.TriggerValue}}G
- **è§¦å‘æ—¶é—´**: {{timeformat $event.TriggerTime}}
- **æŒç»­æ—¶é—´**: {{humanizeDurationInterface $time_duration}}
{{- else}}
{{- if $event.AnnotationsJSON.recovery_value}}
- **æ¢å¤æ•°å€¼**: {{formatDecimal $event.AnnotationsJSON.recovery_value 4}}G
{{- end}}
- **æ¢å¤æ—¶é—´**: {{timeformat $event.LastEvalTime}}
- **æ€»æŒç»­æ—¶é—´**: {{humanizeDurationInterface $time_duration}}
{{- end}}

**ğŸ”– æ ‡ç­¾ä¿¡æ¯**:
{{- range $key, $val := $event.TagsMap}}
{{- if and (ne $key "rulename") (ne $val "") }}
  > {{$key}}: `{{$val}}`
{{- end}}
{{- end}}

---
{{- /* è¿™é‡Œæ˜¯å•ç‹¬å‘ä¸‹å±•ç¤ºçš„è¯¦æƒ…éƒ¨åˆ† */}}
{{- if $event.AnnotationsJSON}}
**ğŸ“ å‘Šè­¦è¯¦æƒ…**:
{{- range $key, $val := $event.AnnotationsJSON}}
  > {{$key}}: `{{$val}} > 1.9`
{{- end}}
{{- end}}

---
**ğŸ”— å¿«æ·æ“ä½œ**:
[ğŸ“Š äº‹ä»¶è¯¦æƒ…]({{$domain}}/alert-his-events/{{$event.Id}}) | 
[ğŸš« å±è”½1å°æ—¶]({{$domain}}/alert-mutes/add?__event_id={{$event.Id}}) |
{{if eq $event.Cate "prometheus"}}[ğŸ“ˆ æŸ¥çœ‹æ›²çº¿]({{$domain}}/metric/explorer?__event_id={{$event.Id}}&mode=graph}}){{else}}[ğŸ‘€ æŸ¥çœ‹æ•°æ®]({{$domain}}/metric/explorer?__event_id={{$event.Id}}}){{end}}


============================================================
{{if $event.IsRecovered}}âœ… å·²æ¢å¤{{else}}ğŸš¨ å‘Šè­¦ä¸­{{end}}: {{$event.RuleName}}

{{if $event.TagsMap}}
æ ‡ç­¾ä¿¡æ¯:
{{- range $key, $val := $event.TagsMap}}
- {{$key}}: `{{$val}}`
{{- end}}
{{- end}}
